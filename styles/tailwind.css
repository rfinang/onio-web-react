/* Tailwind CSS - Onio Design System */
@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

/* Import Tailwind Component Library */
@import './tailwind-components.css';

/* Base Layer - Global styles converted from GlobalStyles.js */
@layer base {
  /* Remove default browser focus outline - matching original Onio design */
  *:focus {
    outline: none !important;
  }
  
  button:focus,
  a:focus,
  input:focus,
  select:focus,
  textarea:focus {
    outline: none !important;
    box-shadow: none !important;
  }
  
  /* Remove Tailwind's default focus styles */
  *:focus-visible {
    outline: none !important;
  }
  :root {
    /* Tokens are defined in styles/figma-variables.css (single source of truth) */
    /* Legacy aliases for backward compatibility */
    --black: var(--onio-color-primary);
    --grey: var(--onio-color-muted);
    --yellow: var(--onio-color-secondary);
    --orange: var(--onio-color-accent);
    --white: var(--onio-color-white);
    --light-grey: var(--onio-color-background);
    --alert: var(--onio-color-alert);
    --bs-gutter-x: 1.2rem;
    --bs-body-font-weight: 500;
  }
  
  @media (min-width: 768px) {
    :root {
      --border-radius: 5rem;
      --input-height: 5rem;
      --border-radius-btn: 1rem;
    }
  }
  
  @media (max-width: 767px) {
    :root {
      --border-radius: 20px;
      --input-height: 40px;
      --border-radius-btn: 6px;
    }
  }
  
  html {
    font-size: 62.5%;
    font-weight: 500;
    font-smooth: antialiased;
    -webkit-font-smoothing: antialiased;
  }
  
  @media (min-width: 1920px) {
    html {
      font-size: 0.52083333333vw;
    }
  }
  
  body {
    font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", sans-serif;
    font-size: 1.6rem;
    background: var(--onio-color-background);
    color: var(--onio-color-primary);
  }
  
  body:not(.site__template-mobile) .is-animation-loading {
    opacity: 0;
  }
  
  /* NProgress styling */
  #nprogress .bar {
    z-index: 9999;
    height: 5px;
    background: var(--onio-color-muted);
  }
  
  #nprogress .peg {
    box-shadow: none;
  }
  
  #nprogress .spinner-icon {
    border-top-color: var(--orange);
    border-left-color: var(--orange);
  }
  
  /* Main layout padding */
  .main {
    padding-top: 11.3rem;
  }
  
  @media (max-width: 1399px) {
    .main {
      padding-top: 9.891rem;
    }
  }
  
  @media (max-width: 1023px) {
    .main {
      padding-top: 12.9rem;
    }
  }
  
  @media (min-width: 1200px) {
    .main {
      font-size: 2rem;
    }
  }
  
  @media (max-width: 739px) {
    .main {
      font-size: 1.8rem;
    }
  }
  
  /* Reset heading margins */
  h1, h2, h3, h4, h5, h6 {
    margin-top: 0;
  }
  
  .main h1, .main h2, .main h3, .main h4, .main h5, .main h6 {
    margin-top: 0;
  }
  
  /* Dynamic content styling */
  .dynamic-content a {
    text-decoration: underline;
  }
  
  .dynamic-content h1, 
  .dynamic-content h2, 
  .dynamic-content h3, 
  .dynamic-content h4, 
  .dynamic-content h5, 
  .dynamic-content h6 {
    margin-top: 0;
    font-weight: bold;
    line-height: 1.3;
    margin-bottom: 3rem;
  }
  
  .dynamic-content h1 { font-size: 4rem; }
  .dynamic-content h2 { font-size: 3.2rem; }
  .dynamic-content h3 { font-size: 2.8rem; }
  .dynamic-content h4 { font-size: 2.4rem; }
  .dynamic-content h5 { font-size: 2rem; }
  .dynamic-content h6 { font-size: 1.6rem; }
  
  p {
    margin-bottom: 1.25em;
  }
  
  a {
    display: inline-block;
    text-decoration: none;
    color: var(--onio-color-primary);
  }
  
  a:hover {
    color: var(--onio-color-primary);
    text-decoration: underline;
  }
  
  img {
    display: inline-block;
    max-width: 100%;
  }
}

/* Component Layer - Converted from GlobalStyles.js patterns */
@layer components {
  /* Loading spinner */
  .lds-ring {
    @apply inline-block absolute w-20 h-20 invisible opacity-0 pointer-events-none;
    top: calc(50% - 40px);
    left: calc(50% - 40px);
    transition: all 0.6s cubic-bezier(0.33, 1, 0.68, 1);
  }
  
  @media (max-width: 739.98px) {
    .lds-ring {
      transform: scale(0.5);
    }
  }
  
  .lds-ring.show {
    @apply visible opacity-100 pointer-events-auto z-10;
  }
  
  .lds-ring div {
    @apply box-border block absolute w-16 h-16 m-2 border-8 border-white rounded-full;
    animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
    border-color: var(--onio-color-white) transparent transparent transparent;
  }
  
  .lds-ring div:nth-child(1) { animation-delay: -0.45s; }
  .lds-ring div:nth-child(2) { animation-delay: -0.3s; }
  .lds-ring div:nth-child(3) { animation-delay: -0.15s; }
  
  /* Typography classes */
  .t-nav {
    @apply text-lg leading-[128%] md:text-[1.575rem];
  }
  
  .t-ingress {
    @apply text-[3.5rem] leading-[114%] md:text-2xl md:leading-[1.25];
  }
  
  @media (max-width: 768px) {
    .t-ingress {
      @apply text-2xl leading-[125%];
    }
  }
  
  .t-body {
    @apply font-medium text-xl leading-[130%] md:text-[1.37rem] md:leading-[1.3];
  }
  
  .t-large {
    @apply text-2xl leading-[121%] md:text-[1.64rem] md:leading-[1.21];
  }
  
  .t-small {
    @apply font-medium text-sm leading-[114%] md:text-[1.2rem];
  }
  
  /* Meta label */
  .metaLabel {
    @apply leading-[1.1428571429] xl:text-sm max-xl:text-xs;
  }
  
  /* Button system - converted from styled-components */
  .btn {
    @apply flex items-center justify-center px-[2.3rem] min-h-[4.4rem] text-xl font-medium leading-[2.3rem] transition-all duration-[400ms] no-underline bg-transparent rounded-2xl;
  }
  
  @media (max-width: 1399px) {
    .btn {
      @apply text-[1.75rem] min-h-[3.938rem] px-12;
    }
  }
  
  @media (max-width: 1199px) {
    .btn {
      @apply text-base;
    }
  }
  
  @media (max-width: 768px) {
    .btn {
      @apply text-base leading-[1.8rem];
    }
  }
  
  .btn:focus,
  .btn:active,
  .btn:hover {
    @apply no-underline shadow-none outline-none;
  }
  
  .btn--border {
    @apply border-2 border-solid rounded-2xl;
  }
  
  .btn--border--white {
    @apply text-white border-white transition-all duration-[400ms];
  }
  
  .btn--border--white:hover {
    @apply bg-white border-white text-[var(--onio-color-primary)];
  }
  
  .btn--black {
    @apply text-[var(--onio-color-primary)] border-[var(--onio-color-primary)];
  }
  
  .btn--black:hover {
    @apply bg-[var(--onio-color-primary)] text-white;
  }
  
  .btn--large {
    @apply px-[3.6rem] leading-[1.2] xl:px-12 md:px-8;
  }
  
  .btn--bg {
    @apply bg-white;
  }
  
  .btn--bg:hover {
    @apply text-white bg-[var(--onio-color-primary)];
  }
  
  .btn--bg--white {
    @apply border-white;
  }
  
  .btn--bg--white:hover {
    @apply text-white bg-[var(--onio-color-primary)] border-[var(--onio-color-primary)];
  }
  
  .btn--bg--silver,
  .btn--bg--grey {
    @apply border-[var(--onio-color-muted)] bg-[var(--onio-color-muted)] text-white;
  }
  
  .btn--bg--black {
    @apply border-[var(--onio-color-primary)] bg-[var(--onio-color-primary)] text-white;
  }
  
  .btn--bg--black:hover {
    @apply text-[var(--onio-color-primary)] bg-white border-white;
  }
  
  /* Resource cards */
  .resource {
    @apply no-underline block max-w-[21.6rem] px-6 pt-[1.2rem] pb-[2.1rem] transition-all duration-[400ms] mb-[2.4rem] w-full;
    transition-timing-function: cubic-bezier(0.33, 1, 0.68, 1);
  }
  
  .resource--red {
    @apply text-[var(--onio-color-accent)] xl:border-2 xl:border-[var(--onio-color-accent)] max-xl:border-[1.5px] max-xl:border-[var(--onio-color-accent)];
  }
  
  @media (any-hover: hover) {
    .resource--red:hover {
      @apply bg-[var(--onio-color-accent)] text-[var(--onio-color-primary)];
    }
    
    .resource--red:hover .iconLink {
      @apply bg-[var(--onio-color-primary)] border-[var(--onio-color-primary)];
    }
    
    .resource--red:hover .iconLink svg path {
      stroke: var(--onio-color-accent);
    }
  }
  
  .resource--black {
    @apply border-2 border-[var(--onio-color-primary)];
  }
  
  .resource--black:hover {
    @apply bg-[var(--onio-color-primary)] text-white;
  }
  
  .resource--black:hover .iconLink {
    @apply bg-white;
  }
  
  .resource__heading {
    @apply mb-12 min-h-[11.2rem];
  }
  
  .resource__icon {
    @apply relative left-1;
  }
  
  /* Utility classes from GlobalStyles.js */
  .ul-reset {
    @apply list-none pl-0;
  }
  
  .cssLoading__parent {
    @apply relative;
  }
  
  .container__inner {
    @apply relative h-full;
  }
  
  .loading {
    @apply fixed inset-0 flex items-center justify-center z-[1000];
    background-color: rgba(255, 255, 255, 0.6);
  }
  
  .loading img {
    @apply block max-w-[70px];
  }
  
  .modal-backdrop {
    @apply hidden;
  }
  
  .reverse {
    @apply rotate-180;
  }
  
  .scrollable {
    @apply pr-2 overflow-y-auto h-full;
    scroll-behavior: smooth;
  }
  
  .scrollable::-webkit-scrollbar {
    width: 3px;
  }
  
  .scrollable::-webkit-scrollbar-thumb {
    background: var(--onio-color-muted);
  }
  
  .scrollable::-webkit-scrollbar-track {
    background: var(--onio-color-background);
  }
  
  .js-link--btn {
    @apply overflow-hidden relative;
  }
  
  .js-link__text {
    @apply block overflow-hidden relative;
  }
  
  .js-link__text__element {
    @apply block;
    will-change: transform;
  }
  
  .js-link__text__element.is-clone {
    @apply absolute top-0;
  }
  
  .image__object-fit {
    @apply overflow-hidden;
  }
  
  .image__object-fit img {
    @apply h-full w-full object-cover;
  }
  
  .image--radius {
    border-radius: var(--border-radius);
    @apply overflow-hidden;
  }
}

/* Utility Layer - Custom utilities and animations */
@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  
  .animation-fade-in {
    animation: fadeIn 0.6s ease-out;
  }
  
  /* Color utilities from GlobalStyles.js */
  .opacity-0 {
    opacity: 0;
  }
  
  .bg-accent {
    background-color: var(--onio-color-accent);
  }
  
  .bg-primary {
    background-color: var(--onio-color-primary) !important;
  }
  
  .bg-secondary {
    background-color: var(--onio-color-secondary) !important;
  }
  
  .text-alert {
    color: var(--onio-color-alert) !important;
  }
  
  .text-white {
    color: var(--onio-color-white) !important;
  }
  
  
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  @keyframes lds-ring {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
}
